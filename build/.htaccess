RewriteEngine On
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://findrobotparts.com/$1 [R,L]

ErrorDocument 404 /index.py?action=404err

<IfModule mod_rewrite.c>

RewriteEngine On
RewriteBase /

RewriteRule ^dashboard/?$										/bin/index.py?action=admin

RewriteRule ^/?$												/bin/index.py?action=home
RewriteRule ^questions/?$	 									/bin/index.py?action=about
RewriteRule ^faq/?$	 											/bin/index.py?action=about
RewriteRule ^about/?$	 										/bin/index.py?action=about

RewriteRule ^3d/([a-z\-]+)/?$									/bin/index.py?actionname=3d/$1
RewriteRule ^3d/([a-z\-]+)/categories/([0-9,]+)/tags/([0-9,]+)$	/bin/index.py?actionname=3d/$1

RewriteRule ^([a-z\-]+)/?$										/bin/index.py?actionname=$1
RewriteRule ^([a-z\-]+)/categories/([0-9,]+)/tags/([0-9,]+)$	/bin/index.py?actionname=$1

RewriteRule ^api/groups/?$															/bin/products-api.py?type=groups
RewriteRule ^api/product/((3d/)?[a-z\-]+)/?$										/bin/products-api.py?type=product&product=$1
RewriteRule ^api/product/((3d/)?[a-z\-]+)/categories/([0-9,]+)/tags/([0-9,]+)/?$	/bin/products-api.py?type=product&product=$1

</IfModule>

<IfModule mod_deflate.c>
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/json
AddOutputFilterByType DEFLATE application/x-javascript
AddOutputFilter DEFLATE .shtml
</IfModule>

ExpiresActive On
ExpiresByType image/jpg "access plus 1 week"
ExpiresByType image/jpeg "access plus 1 week"
ExpiresByType image/gif "access plus 1 week"
ExpiresByType image/png "access plus 1 week"
ExpiresByType image/webp "access plus 1 week"
ExpiresByType text/css "access plus 1 week"
ExpiresByType application/javascript "access plus 1 week"
ExpiresByType application/json "access plus 1 day"
ExpiresByType text/javascript "access plus 1 week"
ExpiresByType text/x-javascript "access plus 1 week"
ExpiresByType image/x-icon "access plus 1 month"
